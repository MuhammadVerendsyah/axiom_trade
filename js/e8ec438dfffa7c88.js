
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6b8c9c82-30fd-58f4-8333-1aff3335ccc3")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,120683,528320,430483,44276,5934,776153,e=>{"use strict";var t=e.i(843476),r=e.i(672464),l=e.i(271645),a=e.i(741124),o=e.i(564012),s=e.i(828073),n=e.i(88653),i=e.i(846932),c=e.i(174080),x=e.i(309682),d=e.i(110163),p=e.i(831095),u=e.i(736837),m=e.i(746256),f=e.i(247317),h=e.i(778536),g=e.i(275195);let b=({value:e,onChange:l,onChangeComplete:a,formatLabel:o=e=>`${e}%`,points:s,disabled:n=!1,maxLeverage:i=100,minLeverage:c=0})=>{let x=(0,r.useAtomValue)(g.isMountedAtom),d=Math.floor(i),p=Math.floor(c),u=d-p,m=Math.min(Math.max(e,p),d),f=[p,...Array.from({length:3},(e,t)=>Math.round(p+(t+1)*u/4)),d],h=(m-p)/u*100,b=()=>{!n&&a&&a()};return(0,t.jsx)("div",{className:"flex flex-row w-full justify-start items-center px-[12px] pt-[12px] pb-[32px]",children:(0,t.jsx)("div",{className:"relative bg-primaryStroke flex flex-row flex-1 h-[2px] justify-between items-center rounded-[999px]",children:x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`absolute h-full rounded-[999px] ${x&&n?"bg-primaryStroke":"bg-primaryBlue"}`,style:{width:`${h}%`}}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:h,onChange:e=>{n||l(Math.round(p+Number(e.target.value)/100*u))},onMouseUp:b,onTouchEnd:b,onTouchStart:e=>{if(n)return;let t=e.currentTarget.getBoundingClientRect();l(Math.round(p+Math.min(100,Math.max(0,(e.touches[0].clientX-t.left)/t.width*100))/100*u))},onTouchMove:e=>{if(n)return;let t=e.currentTarget.getBoundingClientRect();l(Math.round(p+Math.min(100,Math.max(0,(e.touches[0].clientX-t.left)/t.width*100))/100*u)),e.preventDefault()},className:`absolute w-[calc(100%--12px)] h-[44px] -top-[12px] right-[-8px] opacity-0 cursor-pointer peer ${n?"cursor-not-allowed":""}`,style:{touchAction:"none"},disabled:n}),(0,t.jsx)("div",{className:`absolute h-[12px] w-[12px] rounded-full top-1/2 pointer-events-none transition-[width,height] peer-hover:h-[16px] peer-hover:w-[16px] peer-active:h-[20px] peer-active:w-[20px] z-10 ${n?"bg-primaryStroke":"bg-primaryBlue"}`,style:{left:`${h}%`,transform:"translate(-50%, -50%)"}}),(s??f).map((r,l)=>(0,t.jsx)("div",{className:`relative h-[4px] w-[2px] rounded-full pointer-events-none ${e>=r?n?"bg-primaryStroke":"bg-primaryBlue":"bg-textTertiary"}`,children:(0,t.jsx)("span",{className:`absolute left-1/2 -translate-x-1/2 top-[11px] text-[10px] leading-[14px] font-normal select-none pointer-events-none ${n?"text-textTertiary":"text-textSecondary"}`,children:o(r)})},l))]})})})};e.s(["default",0,b],528320);var y=e.i(375116),w=e.i(656679),v=e.i(764335);let N=({account:e,tokenAddress:t,to:r,amountRaw:l,nonce:a})=>{let o=(0,w.encodeFunctionData)({abi:v.ERC20_ABI,functionName:"transfer",args:[r,BigInt(l.toFixed(0))]});return{from:e.address,to:t,data:o,value:BigInt(0),gas:y.BNB_TRANSFER_GAS_CONFIG.tokenTransferGasLimit,gasPrice:y.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:a,chainId:m.bsc.id}};e.s(["buildBnbTransferTx",0,({account:e,to:t,amountWei:r,nonce:l})=>({from:e.address,to:t,value:BigInt(r.toFixed(0)),gas:y.BNB_TRANSFER_GAS_CONFIG.bnbTransferGasLimit,gasPrice:y.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:l,chainId:m.bsc.id}),"buildErc20TransferTx",0,N,"calculateGasCost",0,(e,t)=>(0,s.default)(e.toString()).multipliedBy(t.toString())],430483);var j=e.i(514276),S=e.i(562406),k=e.i(363071),A=e.i(592846),T=e.i(832544),_=e.i(885438),$=e.i(970317),C=e.i(781754),P=e.i(458768),M=e.i(711858),K=e.i(770703),E=e.i(657688),L=e.i(78390),B=e.i(879197),I=e.i(682382),R=e.i(754825),W=e.i(651422);let D=(0,K.default)(()=>e.A(335657),{loadableGenerated:{modules:[92627]},ssr:!1}),G=(0,K.default)(()=>e.A(259254),{loadableGenerated:{modules:[581372]},ssr:!1}),V=(0,l.memo)(function({isSelected:e,walletName:o,walletAddress:s,solBalance:i,tokenCount:c,onRowClick:x=()=>{},onToggleClick:d,onAddressCopy:p,onTurboToggle:u,borderColor:m="border-secondaryStroke",tokenImage:f,tokenTicker:h,tokenAmount:g,isPrimary:b=!1,hideToggle:y=!1,isTurboEnabled:w=!1}){let{t:v}=(0,A.useTranslation)(),N=(0,r.useAtomValue)(a.currentChainAtom),[j,S]=(0,l.useState)(!1),[k,T]=(0,l.useState)(!1),_=(0,r.useAtomValue)(R.solNoncesAtom),$=(0,r.useAtomValue)(R.monitoredSolWalletsAtom),C=(0,l.useMemo)(()=>$.find(e=>e.publicKey===s),[$,s]),K=s.length>12?`${s.substring(0,5)}`:s,V=o.length>12?`${o.substring(0,12)}...`:o;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{onClick:x,className:`group hover:bg-secondaryStroke/10 flex flex-row justify-start items-center cursor-pointer ${o===I.VANISH_WALLET_NAME?"vanish-wallet":b?"primary-wallet":""}`,children:[!y&&(0,t.jsx)("div",{className:"flex flex-row gap-[0px] p-[16px] pr-[16px] items-start",children:(0,t.jsx)(L.Toggle,{isSelected:e,borderColor:m,onClick:e=>{e.stopPropagation(),d&&d()},activeColor:o===I.VANISH_WALLET_NAME?"bg-vanish":b?"bg-[rgb(247,147,26)]":void 0,activeBorderColor:o===I.VANISH_WALLET_NAME?"border-vanish":b?"border-[rgb(247,147,26)]":void 0,className:o===I.VANISH_WALLET_NAME?"vanish-toggle":b?"primary-toggle":""})}),(0,t.jsxs)("div",{className:`border-secondaryStroke/50 border-b-[1px] flex flex-1 flex-row h-[56px] gap-[0px] ${y?"pl-[16px]":"pl-[0px]"} justify-start items-center`,children:[(0,t.jsxs)("div",{className:"flex flex-col flex-1 gap-[4px] justify-start items-start pr-[16px] min-w-[100px]",children:[(0,t.jsxs)("span",{className:`${o===I.VANISH_WALLET_NAME?"text-vanish":b?"text-[rgb(247,147,26)]":"text-textPrimary"} text-nowrap text-[14px] leading-[18px] font-medium flex items-center gap-[4px]`,children:[o===I.VANISH_WALLET_NAME&&(0,t.jsx)("div",{className:"flex flex-row w-[20px] h-[20px] justify-center items-center -mr-[2px]",children:(0,t.jsx)(E.default,{src:"/images/vanish.svg",alt:"Vanish",width:20,height:20})}),V]}),(0,t.jsxs)("div",{className:"flex flex-row gap-[6px]",children:[s!==I.VANISH_WALLET_ADDRESS&&u&&(0,t.jsx)(M.Tooltip,{content:w?v("Disable Turbo"):v("Enable Turbo"),position:"bottom",children:(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),u&&(w||_.has(s)&&_.get(s)?.length!==0?u():S(!0))},className:`${w?"bg-primaryBlue/5 text-primaryBlue hover:bg-primaryBlue/10 hover:text-primaryBlueHover transition-colors duration-[125ms] ease-in-out":"text-textTertiary hover:text-textSecondary transition-colors duration-[125ms] ease-in-out"} group h-[16px] flex flex-row gap-[3px] pl-[4px] pr-[5px] transition-colors duration-[125ms] ease-in-out cursor-pointer justify-start items-center rounded-full`,children:[(0,t.jsx)("i",{className:"icon-rocket",style:{fontSize:"11px"}}),(0,t.jsx)("span",{className:"text-nowrap text-[11px] font-medium",children:w?v("Turbo"):v("Off")})]})}),s!==I.VANISH_WALLET_ADDRESS&&(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),p?p():(navigator.clipboard.writeText(s),P.default.success({message:v("Address copied to clipboard"),icon:(0,t.jsx)("i",{className:"ri-clipboard-line text-primaryBlue text-[16px]"})},{duration:1500}))},className:"text-textTertiary hover:text-textSecondary flex flex-row gap-[4px] transition-colors duration-[125ms] ease-in-out cursor-pointer",children:[(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-medium",children:K}),(0,t.jsx)("i",{className:"ri-file-copy-line text-[12px] leading-[16px] font-medium"})]}),s===I.VANISH_WALLET_ADDRESS&&(0,t.jsxs)("div",{onClick:e=>{e.stopPropagation(),T(!0)},className:"bg-vanish/5 flex items-center gap-[3px] h-[16px] pl-[4px] pr-[5px] rounded-full cursor-pointer hover:bg-vanish/10 transition-colors duration-125 ease-in-out",children:[(0,t.jsx)("i",{className:"ri-eye-off-line text-vanish text-[11px]"}),(0,t.jsx)("span",{className:"text-vanish text-[11px] font-medium",children:v("Private")})]})]})]}),(0,t.jsx)("div",{className:"flex flex-1 flex-row gap-[0px] pr-[0px] justify-end items-center",children:(0,t.jsx)(M.Tooltip,{content:v(`${a.chainToInfoMap[N].ticker} Balance`),position:"top",children:(0,t.jsxs)("div",{className:"border border-secondaryStroke/50 flex flex-row h-[26px] pl-[6px] pr-[6px] gap-[4px] justify-end items-center rounded-full",children:[(0,t.jsx)(E.default,{src:a.chainToInfoMap[N].icon,alt:a.chainToInfoMap[N].ticker,width:16,height:16}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(i,4)}})]})})}),(0,t.jsx)("div",{className:"flex flex-1 flex-row pr-[16px] justify-end items-center gap-[0px]",children:(0,t.jsx)(M.Tooltip,{content:v("Tokens"),position:"top",children:(0,t.jsx)("div",{className:"border border-secondaryStroke/50 flex flex-row h-[26px] pl-[7px] pr-[6px] gap-[4px] justify-end items-center rounded-full",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"relative flex flex-row justify-start items-center w-[13px] h-[13px]",children:(0,t.jsx)("div",{className:"absolute left-[0px] flex flex-row h-[13px] w-[13px] justify-center items-center rounded-[4px] z-[3] overflow-hidden",children:(0,t.jsx)(W.default,{src:f??null,tokenTicker:h,alt:"Token",width:13,height:13,className:"object-cover"})})}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(g??0,4)}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative flex flex-row justify-start items-center w-[26px] h-[13px]",children:[(0,t.jsx)("div",{className:"absolute left-[0px] bg-primaryStroke flex flex-row h-[13px] w-[13px] justify-center items-center rounded-[4px] z-[3]"}),(0,t.jsx)("div",{className:"absolute left-[6px] bg-secondaryStroke flex flex-row h-[13px] w-[13px] justify-center items-center rounded-[4px] z-[2]"}),(0,t.jsx)("div",{className:"absolute left-[12px] bg-textTertiary flex flex-row h-[13px] w-[13px] justify-center items-center rounded-[4px] z-[1]"})]}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:c.toString()}})]})})})})]})]}),(0,t.jsx)(n.AnimatePresence,{children:k&&(0,t.jsx)(G,{onClose:()=>T(!1)})}),(0,t.jsx)(n.AnimatePresence,{children:j&&(0,t.jsx)(D,{onClose:()=>S(!1),walletAddress:s,privateKey:C?.privateKey??""})})]})});e.s(["default",0,V],44276);var F=e.i(447800),X=e.i(354640);let O=(0,l.memo)(function({viewType:e="global",layout:a="dropdown",tokenInfo:o}){let{t:n}=(0,A.useTranslation)(),i=(0,r.useAtomValue)(T.isMobileAtom),c=(0,r.useSetAtom)(h.portfolioTabAtom),g=(0,r.useAtomValue)(_.evmTokenAccountsAtom),{uiLocked:b,isLocked:w,lock:v,unlock:K}=(0,k.default)(),E=(0,r.useAtomValue)(_.fullEvmWalletsAtom),L=(0,r.useAtomValue)(_.evmBalancesAtom),B=(0,r.useAtomValue)(_.selectedEvmWalletsAtom),I=(0,r.useSetAtom)(_.selectedEvmWalletsAtom),R=(0,_.useGetAndIncrementNonce)(),W=(0,_.useRefreshBnbNonces)(),D=(0,$.useBnbCancelPendingTx)(),[G,O]=(0,l.useState)(!1),U=(0,l.useMemo)(()=>E,[E]),z=(0,l.useMemo)(()=>o?U.filter(e=>(0,_.findEvmTokenBalance)(g,e.publicKey,o.tokenAddress,o.tokenDecimals)>0):[],[U,g,o]),Z=(0,l.useMemo)(()=>o?U.filter(e=>!z.includes(e)):U,[U,z,o]),Y=(0,r.useAtomValue)(_.activeEvmWalletsAtom),q=(0,r.useAtomValue)(_.fetchedEvmWalletsSetAtom),J=(0,X.useRefreshBalancesEvm)(),Q=(0,l.useCallback)(e=>{I(t=>t.includes(e)?t.filter(t=>t!==e):t.length>=F.MAX_TRADING_WALLETS?(P.default.error(n(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`)),t):(Y.size>=F.MAX_TRADING_WALLETS&&!q.has(e)&&(J([e]),q.add(e)),[...t,e]))},[I,Y.size,n,q,J]),ee=(0,l.useCallback)(async()=>{if(!o)return void P.default.error(n("No token info"));if((0,S.isNonTransferrableProtocol)(o.protocol))return void P.default.error(n("Pre-migration tokens are non-transferrable"));if(B.length>1)return void P.default.error(n("Please select only one wallet"));if(0===B.length)return void P.default.error(n("Please select one wallet"));let e=B[0],t=z.filter(t=>t.publicKey.toLowerCase()!==e.toLowerCase()&&t.privateKey).map(e=>{let t=(0,_.findEvmTokenBalanceRaw)(g,e.publicKey,o.tokenAddress),r=e.privateKey??"";return{publicKey:e.publicKey,privateKey:r,balance:t?(0,s.BigNumber)(t):(0,s.BigNumber)(0)}}).filter(e=>e.balance.gt(0)&&e.privateKey).sort((e,t)=>t.balance.gt(e.balance)?1:-1);if(0===t.length)return void P.default.error(n("No other wallets with token to consolidate from"));let r=P.default.loading(n("Consolidating tokens..."),{duration:1/0});try{if(w())return void P.default.error(n("Please wait for the consolidation to complete"));v();let l=(0,x.createPublicClient)({chain:m.bsc,transport:(0,d.http)(y.BNB_FRONTEND_RPC)}),a=[],s=[],i=[],c=[];for(let r of t)try{if(!r.privateKey)continue;let t=(0,u.privateKeyToAccount)(`0x${r.privateKey}`);if(r.balance.lte(0))continue;let n=await R(t.address,l),x=N({account:t,tokenAddress:o.tokenAddress,to:e,amountRaw:r.balance,nonce:n}),d=await t.signTransaction(x),m=(0,p.keccak256)(d);(0,j.sendBscTransaction)(d,!1),D(t.address,r.privateKey,n,y.BNB_TRANSFER_GAS_CONFIG.gasPrice),a.push(m),c.push((0,C.monitorTransaction)(l,null,m,500,12e3).then(()=>{s.push(m)}).catch(()=>{i.push(m)}))}catch(e){console.error(`Failed to transfer from ${r.publicKey}:`,e)}await Promise.all(c),await W([...t.map(e=>e.publicKey),e]),0===a.length?P.default.error(n("No balances to transfer"),{toastId:r}):i.length>0&&0===s.length?P.default.error(`${n("Consolidation failed")} (0/${a.length} ${n("succeeded")})`,{toastId:r}):i.length>0?P.default.error(`${n("Consolidation partially complete")} (${s.length}/${a.length} ${n("succeeded")})`,{toastId:r}):P.default.success(`${n("Consolidation complete!")} (${s.length} ${n("transactions")})`,{toastId:r})}catch(e){P.default.error(`${n("Error consolidating")}: ${(0,f.getErrorMessage)(e)}`,{toastId:r})}finally{K()}},[B,n,o,z,g,w,v,K,R,W,D]),et=(0,l.useCallback)(async()=>{if(!o)return void P.default.error(n("No token info"));if((0,S.isNonTransferrableProtocol)(o.protocol))return void P.default.error(n("Pre-migration tokens are non-transferrable"));if(B.length<2)return void P.default.error(n("Select at least 2 active wallets"));let e=(0,s.BigNumber)(0),t=new Map;for(let r of B){let l=(0,_.findEvmTokenBalanceRaw)(g,r,o.tokenAddress);if(!l)continue;let a=(0,s.BigNumber)(l);a.lte(0)||(e=e.plus(a),t.set(r,a))}if(e.lte(0))return void P.default.error(n("No token balance to split"));let r=P.default.loading(n("Splitting tokens..."));try{let l=(0,x.createPublicClient)({chain:m.bsc,transport:(0,d.http)(y.BNB_FRONTEND_RPC)}),a=e.dividedBy(B.length).integerValue(s.BigNumber.ROUND_DOWN),i=new Map;for(let e of B){let r=t.get(e),l=.4*Math.random()-.2,o=a.multipliedBy(1+l).integerValue(s.BigNumber.ROUND_DOWN);if(r){let l=r.minus(o);l.gte(0)?t.set(e,l):(t.delete(e),i.set(e,l.abs()))}else i.set(e,o)}let c=Array.from(t.entries()).sort((e,t)=>t[1].gt(e[1])?1:-1),f=Array.from(i.entries()).sort((e,t)=>t[1].gt(e[1])?1:-1),h=[],g=[],b=[],w=[],v=0,S=0;for(;v<c.length&&S<f.length;){let[e,t]=c[v],[r,a]=f[S],s=t.lt(a)?t:a,n=U.find(t=>t.publicKey.toLowerCase()===e.toLowerCase())?.privateKey;if(!n){v++;continue}let i=(0,u.privateKeyToAccount)(`0x${n}`),x=await R(i.address,l),d=N({account:i,tokenAddress:o.tokenAddress,to:r,amountRaw:s,nonce:x}),m=await i.signTransaction(d),k=(0,p.keccak256)(m);(0,j.sendBscTransaction)(m,!1),0===h.length&&D(i.address,n,x,y.BNB_TRANSFER_GAS_CONFIG.gasPrice),h.push(k),w.push((0,C.monitorTransaction)(l,null,k,500,12e3).then(()=>{g.push(k)}).catch(()=>{b.push(k)})),c[v][1]=t.minus(s),f[S][1]=a.minus(s),c[v][1].lte(0)&&v++,f[S][1].lte(0)&&S++}await Promise.all(w),await W(B),0===h.length?P.default.error(n("No transfers needed"),{toastId:r}):b.length>0&&0===g.length?P.default.error(`${n("Split failed")} (0/${h.length} ${n("transactions succeeded")})`,{toastId:r}):b.length>0?P.default.error(`${n("Split partially complete")} (${g.length}/${h.length} ${n("transactions succeeded")})`,{toastId:r}):P.default.success(`${n("Split complete!")} (${g.length} ${n("transactions")})`,{toastId:r})}catch(e){P.default.error(`${n("Error splitting tokens")}: ${(0,f.getErrorMessage)(e)}`,{toastId:r})}},[B,n,o,g,U,R,W,D]),er="dropdown"===a?`flex flex-col gap-[16px] ${i?"w-full":"w-[348px]"}`:"flex flex-col gap-[16px] h-full w-full",el="dropdown"===a?"border-secondaryStroke":"border-white/10",ea=e=>"dropdown"===a?`group text-textPrimary flex flex-row gap-[4px] text-[12px] leading-[16px] font-medium justify-start items-center rounded-full px-[7px] h-[24px] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent
        ${e?"border-secondaryStroke border-[1px] bg-secondaryStroke/60 hover:bg-secondaryStroke/90":"hover:border-transparent border-[1px] bg-secondaryStroke/30 border-secondaryStroke/20 hover:bg-secondaryStroke/60"} transition-colors duration-125 ease-in-out`:"bg-textPrimary/[0.05] hover:bg-textPrimary/[0.1] hover:transition-colors hover:ease-in-out hover:duration-150 flex flex-row px-[8px] h-[24px] min-h-[24px] justify-center items-center gap-[3px] rounded-full ml-[4px]",eo=()=>"dropdown"===a?i?"flex-1":"max-h-[252px] overflow-y-auto":z.length>0?"max-h-[calc(50vh-150px)]":"h-0",es=(0,l.useMemo)(()=>B.filter(e=>z.map(e=>e.publicKey).includes(e)).length===z.length,[B,z]),en=(0,l.useMemo)(()=>B.filter(e=>!z.map(e=>e.publicKey).includes(e)),[B,z]),ei=(0,l.useCallback)(()=>{es?I(en):I(()=>{let e=z.map(e=>e.publicKey).filter(e=>!en.includes(e)),t=Math.max(0,F.MAX_TRADING_WALLETS-en.length),r=en.concat(e.slice(0,t));if(en.length+e.length>F.MAX_TRADING_WALLETS&&P.default.error(n(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`)),Y.size>=F.MAX_TRADING_WALLETS){let e=r.filter(e=>!q.has(e));e.length>0&&(J(e),e.forEach(e=>{q.add(e)}))}return r})},[es,en,z,I,n,J,q,Y]),ec=(0,l.useMemo)(()=>B.filter(e=>Z.map(e=>e.publicKey).includes(e)).length===Z.length,[B,Z]),ex=(0,l.useMemo)(()=>B.filter(e=>z.map(e=>e.publicKey).includes(e)),[B,z]),ed=(0,l.useCallback)(()=>{ec?I(ex):I(()=>{let e=Z.map(e=>e.publicKey).filter(e=>!ex.includes(e)),t=Math.max(0,F.MAX_TRADING_WALLETS-ex.length),r=ex.concat(e.slice(0,t));if(ex.length+e.length>F.MAX_TRADING_WALLETS&&P.default.error(n(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`)),Y.size>=F.MAX_TRADING_WALLETS){let e=r.filter(e=>!q.has(e));e.length>0&&(J(e),e.forEach(e=>{q.add(e)}))}return r})},[ec,ex,Z,I,n,J,q,Y]),ep=(0,l.useMemo)(()=>{let e=[];for(let t of Y){let r=L.data.get(t.toLowerCase())?.balanceWei;r&&parseFloat(r)>0&&e.push(t)}return 0===e.length||e.every(e=>B.includes(e))},[Y,L,B]),eu=(0,l.useCallback)(()=>{let e=[];for(let t of Y){let r=L.data.get(t.toLowerCase())?.balanceWei;if(r&&parseFloat(r)>0){if(e.length>=F.MAX_TRADING_WALLETS){P.default.error(n(`Maximum of ${F.MAX_TRADING_WALLETS} wallets can be selected`));break}e.push(t)}}I(e)},[n,Y,L,I]);return(0,t.jsxs)("div",{className:er,children:["global"===e?(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?"h-full":""}`,children:[(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsxs)("div",{className:`flex flex-row ${"dropdown"===a?"px-[16px]":"px-[12px]"} h-[44px] items-center justify-between`,children:[(0,t.jsx)("span",{className:"text-textSecondary text-[12px] font-normal",children:n("Wallets")}),(0,t.jsx)(M.Tooltip,{content:n("Multi Wallet Buy Settings"),children:(0,t.jsx)("button",{type:"button",className:"group flex items-center justify-center w-[24px] h-[24px] rounded-[4px] hover:bg-secondaryStroke/20 transition-colors duration-150 ease-in-out",onClick:()=>O(!0),children:(0,t.jsx)("i",{className:"ri-settings-3-line text-[13px] text-textTertiary group-hover:text-textSecondary transition-colors duration-150 ease-in-out"})})})]})}),(0,t.jsxs)("div",{className:`flex flex-col border-t ${el} ${"sidebar"===a?"flex-1 overflow-y-auto":""} ${"dropdown"===a?i?"flex-1":"max-h-[342px] overflow-y-auto":"max-h-[calc(100vh-200px)]"}`,children:[U.map((e,r)=>(0,t.jsx)(V,{isSelected:B.includes(e.publicKey),walletName:e.name,walletAddress:e.publicKey,solBalance:(0,s.BigNumber)(L.data.get(e.publicKey.toLowerCase())?.balanceWei??"0").dividedBy(1e18).toNumber(),tokenCount:(0,_.countNonZeroEvmTokenBalances)(g,e.publicKey),tokenTicker:o?.tokenTicker??void 0,onRowClick:()=>Q(e.publicKey),onToggleClick:()=>Q(e.publicKey),borderColor:el,isPrimary:e.isPrimary,isTurboEnabled:!1},`${e.publicKey}-${r}`)),1===U.length&&!i&&(0,t.jsxs)("button",{type:"button",onClick:()=>{c("wallets"),window.location.href="/portfolio"},className:"flex flex-row w-full h-[48px] px-[16px] gap-[16px] items-center hover:bg-primaryStroke/35 transition-colors duration-150 ease-in-out cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-add-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-150 ease-in-out"}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] font-medium",children:n("Add Wallet")})]})]})]}):(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?"h-full":""} gap-[16px] ${z.length>0&&"sidebar"===a?"overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]":""}`,children:[o&&z.length>0&&(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?"flex-1 max-h-[80%]":""}`,children:[(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsxs)("div",{className:`flex flex-row gap-[4px] ${"dropdown"===a?"pl-[16px] pr-[12px]":"pl-[12px] pr-[12px]"} h-[44px] justify-between items-center`,children:[(0,t.jsx)(M.Tooltip,{content:es?n(`Unselect all wallets with ${o.tokenTicker}`):n(`Select all wallets with ${o.tokenTicker}`),children:(0,t.jsx)("button",{type:"button",className:ea(es),onClick:ei,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:(Z.length,`${es?n("Unselect All"):n("Select All")}`)})})}),(0,t.jsxs)("div",{className:"flex flex-row gap-[8px] justify-start items-center",children:[(0,t.jsx)(M.Tooltip,{content:n("Moves all tokens to the selected wallet"),minWidth:"216px",children:(0,t.jsxs)("button",{type:"button",className:"group flex flex-row gap-[4px] text-textSecondary text-[12px] leading-[16px] font-medium justify-start items-center rounded-[4px] hover:bg-secondaryStroke/30 transition-colors duration-125 ease-in-out pl-[7px] pr-[6px] h-[24px] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",onClick:ee,disabled:b,children:[(0,t.jsx)("i",{className:"ri-git-branch-line text-[14px] text-textTertiary group-hover:text-textSecondary group-disabled:hover:text-textTertiary transition-colors duration-125 ease-in-out"}),n("Consolidate")]})}),(0,t.jsx)(M.Tooltip,{content:n("Splits tokens evenly between active wallets with 20% variance"),minWidth:"216px",children:(0,t.jsxs)("button",{type:"button",className:"group flex flex-row gap-[4px] text-textSecondary text-[12px] leading-[16px] font-medium justify-start items-center rounded-[4px] hover:bg-secondaryStroke/30 transition-colors duration-125 ease-in-out pl-[7px] pr-[6px] h-[24px] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",onClick:et,children:[(0,t.jsx)("i",{className:"ri-git-merge-line text-[14px] text-textTertiary group-hover:text-textSecondary group-disabled:hover:text-textTertiary transition-colors duration-125 ease-in-out"}),n("Split Tokens")]})})]})]})}),(0,t.jsxs)("div",{className:`flex flex-col border-t ${el} ${"sidebar"===a?"flex-1 overflow-y-auto":""} ${eo()}`,children:[z.map((e,r)=>(0,t.jsx)(V,{radial:!1,isSelected:B.includes(e.publicKey),walletName:e.name,walletAddress:e.publicKey,solBalance:parseFloat(L.data.get(e.publicKey.toLowerCase())?.balanceWei??"0")/1e18,tokenCount:(0,_.countNonZeroEvmTokenBalances)(g,e.publicKey),tokenTicker:o?.tokenTicker??void 0,onRowClick:()=>Q(e.publicKey),onToggleClick:()=>Q(e.publicKey),borderColor:el,tokenImage:o.tokenImage??void 0,tokenAmount:(0,_.findEvmTokenBalance)(g,e.publicKey,o.tokenAddress,o.tokenDecimals),isPrimary:e.isPrimary,isTurboEnabled:!1},`token-${e.publicKey}-${r}`)),1===U.length&&!i&&(0,t.jsxs)("button",{type:"button",onClick:()=>{c("wallets"),window.location.href="/portfolio"},className:"flex flex-row w-full h-[48px] px-[16px] gap-[16px] items-center hover:bg-primaryStroke/35 transition-colors duration-150 ease-in-out cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-add-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-150 ease-in-out"}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] font-medium",children:n("Add Wallet")})]})]})]}),o&&Z.length>0&&(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?`flex-1 ${z.length>0?"max-h-[80%]":"h-full"}`:""}`,children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] px-[12px] py-[8px] justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[8px] items-center",children:[(0,t.jsx)(M.Tooltip,{content:ec?n(`Unselect all wallets without ${o.tokenTicker}`):n(`Select all wallets without ${o.tokenTicker}`),children:(0,t.jsx)("button",{type:"button",className:ea(ec),onClick:ed,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:(z.length,`${ec?n("Unselect All"):n("Select All")}`)})})}),(0,t.jsx)(M.Tooltip,{content:n("Select all wallets with balance"),children:(0,t.jsx)("button",{type:"button",className:ep?"group text-textPrimary flex flex-row gap-[4px] text-[12px] leading-[16px] font-medium justify-start items-center rounded-full px-[7px] h-[24px] opacity-50 cursor-not-allowed border-[1px] bg-secondaryStroke/30 border-secondaryStroke/20 transition-colors duration-125 ease-in-out":ea(!1),onClick:eu,disabled:ep,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:n("Select All with Balance")})})})]}),(0,t.jsx)(M.Tooltip,{content:n("Multi Wallet Buy Settings"),children:(0,t.jsx)("button",{type:"button",className:"group flex items-center justify-center w-[24px] h-[24px] rounded-[4px] hover:bg-secondaryStroke/20 transition-colors duration-150 ease-in-out",onClick:()=>O(!0),children:(0,t.jsx)("i",{className:"ri-settings-3-line text-[13px] text-textTertiary group-hover:text-textSecondary transition-colors duration-150 ease-in-out"})})})]}),(0,t.jsxs)("div",{className:`flex flex-col border-t ${el} ${"sidebar"===a?`flex-1 overflow-y-auto ${z.length>0?"max-h-[calc(50vh-150px)]":"h-0"}`:""} ${eo()}`,children:[Z.map((e,r)=>(0,t.jsx)(V,{radial:!1,isSelected:B.includes(e.publicKey),walletName:e.name,walletAddress:e.publicKey,solBalance:parseFloat(L.data.get(e.publicKey.toLowerCase())?.balanceWei??"0")/1e18,tokenCount:(0,_.countNonZeroEvmTokenBalances)(g,e.publicKey),tokenTicker:o?.tokenTicker??void 0,onToggleClick:()=>Q(e.publicKey),onRowClick:()=>Q(e.publicKey),borderColor:el,isPrimary:e.isPrimary,isTurboEnabled:!1},`no-token-${e.publicKey}-${r}`)),1===U.length&&!i&&(0,t.jsxs)("button",{type:"button",onClick:()=>{c("wallets"),window.location.href="/portfolio"},className:"flex flex-row w-full h-[48px] px-[16px] gap-[16px] items-center hover:bg-primaryStroke/35 transition-colors duration-150 ease-in-out cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-add-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-150 ease-in-out"}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] font-medium",children:n("Add Wallet")})]})]})]})]}),G&&(0,t.jsx)(H,{onClose:()=>O(!1)})]})}),H=({onClose:e})=>{let{t:a}=(0,A.useTranslation)(),[o,s]=(0,r.useAtom)(_.buyVarianceBnbAtom),[x,d]=(0,r.useAtom)(_.transactionDelayMultiWalletBnbAtom),p=(0,l.useRef)(null),[u,m]=(0,l.useState)(!1),[f,h]=(0,l.useState)(!0),g=(0,l.useCallback)(()=>{h(!1),setTimeout(()=>{e()},200)},[e]);return f?(0,c.createPortal)((0,t.jsx)(n.AnimatePresence,{mode:"wait",children:(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 bg-[#090909]/40 flex items-center justify-center z-[99999]",onClick:e=>{e.stopPropagation(),u&&e.target===e.currentTarget&&g()},onMouseDown:e=>{e.stopPropagation(),e.target===e.currentTarget&&m(!0)},onMouseUp:e=>{e.stopPropagation(),requestAnimationFrame(()=>{m(!1)})},children:(0,t.jsx)(i.motion.div,{ref:p,className:"relative w-[452px] max-h-[880px]",initial:{opacity:0,y:0,scale:1},animate:{opacity:1,y:4,scale:1},exit:{opacity:0,y:0,scale:1},transition:{duration:.15,ease:"easeOut"},onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex flex-col w-full h-full bg-backgroundTertiary border-[1px] border-secondaryStroke rounded-[4px] shadow-[0_4px_4px_0_rgba(0,0,0,0.30),0_8px_8px_0_rgba(0,0,0,0.45)]",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full h-[44px] pl-[16px] pr-[12px] justify-between items-center border-b-[1px] border-b-secondaryStroke",children:[(0,t.jsx)("span",{className:"text-textPrimary text-[14px] leading-[20px] tracking-[-0.02em] font-medium",children:a("Multi Wallet Buy Settings")}),(0,t.jsx)("button",{type:"button",onClick:g,className:"group flex flex-row p-[4px] w-[24px] h-[24px] justify-center items-center hover:bg-secondaryStroke/20 rounded-[4px] transition-colors duration-150 ease-in-out",children:(0,t.jsx)("i",{className:"ri-close-line text-textSecondary text-[16px] group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full px-[16px] py-[16px] pb-[20px] gap-[16px]",children:[(0,t.jsx)("div",{className:"flex flex-col gap-[8px]",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",children:a("Buy Variance")}),(0,t.jsxs)("div",{className:"w-[60px] h-[28px] flex items-center rounded-[4px] bg-transparent border border-secondaryStroke hover:border-textPrimary/10 focus:border-textPrimary/10 hover:bg-secondaryStroke/10 focus:bg-secondaryStroke/10 overflow-hidden",children:[(0,t.jsx)("input",{type:"text",value:o,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");(""===t||100>=parseInt(t))&&s(parseInt(t)||0)},onBlur:e=>{let t=parseInt(e.target.value)||0;t>100&&(t=100),t<0&&(t=0),s(t)},className:"bg-transparent text-textPrimary text-[12px] text-center w-[36px] outline-none"}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] mr-1",children:"%"})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-[4px] w-full justify-start items-center",children:(0,t.jsx)(b,{value:o,onChange:e=>s(e),points:[0,25,50,75,100],formatLabel:e=>`${e}%`,maxLeverage:100,disabled:!1})}),(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("The variance of the buy amount across the selected wallets. 0% to 100% randomly.")})]})}),(0,t.jsx)("div",{className:"flex flex-col gap-[8px]",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",children:a("Transaction Delay")}),(0,t.jsxs)("div",{className:"w-[60px] h-[28px] flex items-center rounded-[4px] bg-transparent border border-secondaryStroke hover:border-textPrimary/10 focus:border-textPrimary/10 hover:bg-secondaryStroke/10 focus:bg-secondaryStroke/10 overflow-hidden",children:[(0,t.jsx)("input",{type:"text",value:x,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");(""===t||1e3>=parseInt(t))&&d(parseInt(t)||0)},onBlur:e=>{let t=parseInt(e.target.value)||0;t>1e3&&(t=1e3),t<0&&(t=0),d(t)},className:"bg-transparent text-textPrimary text-[12px] text-center w-[36px] outline-none"}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] mr-1",children:"ms"})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-[4px] w-full justify-start items-center",children:(0,t.jsx)(b,{value:x,onChange:e=>d(e),points:[0,250,500,750,1e3],formatLabel:e=>1e3===e?"1s":`${e}ms`,maxLeverage:1e3,disabled:!1})}),(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("The delay between each transaction in milliseconds. 0ms means no delay.")})]})})]}),(0,t.jsx)("div",{className:"border-t border-secondaryStroke/50 flex flex-row w-full h-[68px] justify-end items-center p-[16px] pb-[20px]",children:(0,t.jsx)("button",{type:"button",onClick:g,className:"bg-primaryBlue flex flex-row flex-1 h-[32px] px-[12px] gap-[8px] justify-center items-center rounded-full hover:bg-primaryBlue/80 hover:brightness-110 transition-all duration-[150ms] cursor-pointer",children:(0,t.jsx)("span",{className:"text-[14px] font-bold text-background",children:a("Done")})})})]})})})}),document.body):null};var U=e.i(467034),z=e.i(444610);e.i(559136);var Z=e.i(107522),Y=e.i(127261),q=e.i(422876);e.i(896198);var J=e.i(717725),Q=e.i(858010);let ee=(0,z.struct)([(0,z.u8)("instruction"),(0,Z.u64)("amount"),(0,z.u8)("decimals")]);function et(e,t,r,l,a,o,s=[],n=q.TOKEN_PROGRAM_ID){let i=(0,J.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],l,s),c=U.Buffer.alloc(ee.span);return ee.encode({instruction:Q.TokenInstruction.TransferChecked,amount:BigInt(a),decimals:o},c),new Y.TransactionInstruction({keys:i,programId:n,data:c})}e.s(["createTransferCheckedInstruction",()=>et],5934);var er=e.i(659341),el=e.i(103476),ea=e.i(616318),eo=e.i(85026),es=e.i(401597),en=e.i(973444);let ei=(0,l.memo)(function({viewType:e="global",layout:a="dropdown",tokenInfo:o}){let{t:s}=(0,A.useTranslation)(),n=(0,r.useAtomValue)(T.isMobileAtom),i=(0,r.useSetAtom)(h.portfolioTabAtom),c=(0,r.useAtomValue)(R.turboWalletsAtom),x=(0,r.useSetAtom)(R.turboWalletsAtom),d=(0,r.useAtomValue)(R.tokenAccountsAtom),{uiLocked:p,isLocked:u,lock:m,unlock:g}=(0,k.default)(),b=(0,r.useAtomValue)(R.activeSolWalletsAtom),y=(0,r.useAtomValue)(R.fetchedWalletsSetAtom),w=(0,X.useRefreshBalancesSol)(),v=(0,r.useAtomValue)(R.fullSolWallet),N=(0,r.useAtomValue)(R.solBalancesAtom),j=(0,r.useAtomValue)(R.selectedSolWalletsAtom),S=(0,r.useSetAtom)(R.selectedSolWalletsAtom),[_,$]=(0,l.useState)(!1),C=(0,l.useMemo)(()=>v,[v]),K=(0,l.useMemo)(()=>o?C.filter(e=>(0,R.findTokenBalance)(d,e.publicKey,o.tokenAddress,o.tokenDecimals)>0):[],[C,d,o]),E=(0,l.useMemo)(()=>o?C.filter(e=>!K.includes(e)):C,[C,K,o]),L=(0,l.useCallback)(e=>{S(t=>t.includes(e)?t.filter(t=>t!==e):t.length>=F.MAX_TRADING_WALLETS?(P.default.error(s(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`)),t):(b.size>=F.MAX_TRADING_WALLETS&&!y.has(e)&&(w([e]),y.add(e)),[...t,e]))},[S,s,w,y,b]),B=(0,l.useCallback)(e=>{x(t=>t.includes(e)?(P.default.success(s("Turbo mode disabled")),t.filter(t=>t!==e)):(P.default.success(s("Turbo mode enabled")),[...t,e]))},[x,s]),W=(0,ea.useGetSafeBlockhash)(),D=(0,l.useCallback)(async()=>{if(!o)return void P.default.error(s("No token info"));if(j.length>1)return void P.default.error(s("Please select only one wallet"));if(0===j.length)return void P.default.error(s("Please select one wallet"));if(j[0]===I.VANISH_WALLET_ADDRESS)return void P.default.error(s("Vanish wallets cannot be used in a consolidation"));let e=new Y.PublicKey(j[0]),t=d.data.get(e.toBase58())?.get(o.tokenAddress);if(!t)return void P.default.error(s("No token account found"));let r=t.tokenProgram,l=K.filter(t=>t.publicKey!==e.toBase58()&&t.privateKey).map(e=>{let t=d.data.get(e.publicKey)?.get(o.tokenAddress),r=t?(0,en.newSafeBN)(t.balanceRaw):(0,en.newSafeBN)(0),l=e.privateKey??"";return{publicKey:e.publicKey,privateKey:l,tokenAccountAddress:t?.tokenAccountAddress,balance:r}}).filter(e=>e.balance.gt((0,en.newSafeBN)(0))&&e.privateKey).sort((e,t)=>t.balance.cmp(e.balance));if(l.find(e=>e.publicKey===I.VANISH_WALLET_ADDRESS)&&(P.default.warn(s("Vanish wallets cannot be used in a consolidation")),l=l.filter(e=>e.publicKey!==I.VANISH_WALLET_ADDRESS)),0===l.length)return void P.default.error(s("No other wallets with token to consolidate from"));let a=P.default.loading(s("Consolidating tokens..."),{duration:1/0});try{if(u())return void P.default.error(s("Please wait for the consolidation to complete"));m();let t=await W();if(!t)throw Error(s("Failed to get blockhash"));let n=[],i=!1,c="";for(let a=0;a<l.length;a+=5){let s=l.slice(a,a+5),x=Y.Keypair.fromSecretKey(el.default.decode(s[0].privateKey)),d=[],p=[];if(!i){let{ataInstruction:t,ataAddress:l}=(0,eo.makeCreateATAInstruction)(e,o.tokenAddress,r,x.publicKey);d.push(t),c=l,i=!0}for(let{publicKey:e,privateKey:t,tokenAccountAddress:l,balance:a}of s)l&&(d.push(et(new Y.PublicKey(l),new Y.PublicKey(o.tokenAddress),new Y.PublicKey(c),new Y.PublicKey(e),BigInt(a.toString()),o.tokenDecimals,void 0,new Y.PublicKey(r))),p.push(Y.Keypair.fromSecretKey(el.default.decode(t))));if(0===d.length||i&&1===d.length)continue;(0,eo.addPriorityFeeInstructions)({instructions:d,computeUnits:45e3+5e3*(d.length-!!i),microLamports:25e5});let{base64Tx:u}=await (0,eo.compileTransaction)({signer:[x,...p],instructions:d,blockhash:t,lookupTables:eo.AXIOM_ADDRESS_LOOKUP_TABLES_V2});n.push(u)}let{numFailed:x,errorMessages:d}=await (0,eo.sendAndMonitorSimpleTxBatched)(n);x>0?P.default.error(`Error consolidating (${x}/${n.length}): ${d.join(", ")}`,{toastId:a}):P.default.success(s("Consolidation complete!"),{toastId:a})}catch(e){P.default.error(`${s("Error consolidating")}: ${(0,f.getErrorMessage)(e)}`,{toastId:a})}finally{g()}},[j,s,d,o,K,W,u,m,g]),G=(0,l.useCallback)(async()=>{if(!o)return void P.default.error(s("No token info"));if(j.length<2)return void P.default.error(s("Select at least 2 active wallets"));if(j.find(e=>e===I.VANISH_WALLET_ADDRESS))return void P.default.error(s("Vanish wallets cannot be used in a split"));let e=new er.default(0),t=new Map,r="";for(let l of j){let a=d.data.get(l)?.get(o.tokenAddress);if(!a)continue;r=a.tokenProgram;let s=new er.default(a.balanceRaw);s.isZero()||(e=e.add(s),t.set(l,s))}if(e.isZero())return void P.default.error(s("No token balance to split"));let l=P.default.loading(s("Splitting tokens..."));try{let a=await W();if(!a)throw Error(s("Blockhash could not be found"));let n=(0,es.distributeAmountBN)(e,j.length,20),i=new Map;for(let e=0;e<j.length;e++){let r=j[e],l=n[e],a=t.get(r);if(a){let e=a.sub(l);e.gte(new er.default(0))?t.set(r,e):(t.delete(r),i.set(r,e.abs()))}else i.set(r,l)}let c=Array.from(t.entries()).sort((e,t)=>t[1].cmp(e[1])),x=Array.from(i.entries()).sort((e,t)=>t[1].cmp(e[1])),p=[],u=0,m=0;for(;u<c.length&&m<x.length;){let[e,t]=c[u],[l,n]=x[m],i=t.lt(n)?t:n,f=C.find(t=>t.publicKey===e)?.privateKey;if(!f)throw Error(s("No details found for wallet"));let h=d.data.get(e)?.get(o.tokenAddress);if(!h)throw Error(s("No token account found"));let g=Y.Keypair.fromSecretKey(el.default.decode(f)),b=[],y=(0,eo.makeCreateATAInstruction)(new Y.PublicKey(l),o.tokenAddress,r,new Y.PublicKey(e));b.push(y.ataInstruction);let w=et(new Y.PublicKey(h.tokenAccountAddress),new Y.PublicKey(o.tokenAddress),new Y.PublicKey(y.ataAddress),new Y.PublicKey(e),BigInt(i.toString()),o.tokenDecimals,void 0,new Y.PublicKey(r));b.push(w),(0,eo.addPriorityFeeInstructions)({instructions:b,computeUnits:5e4,microLamports:25e5});let{base64Tx:v}=await (0,eo.compileTransaction)({signer:g,instructions:b,blockhash:a});p.push(v),c[u][1]=t.sub(i),x[m][1]=n.sub(i),c[u][1].isZero()&&u++,x[m][1].isZero()&&m++}let{numFailed:f,errorMessages:h}=await (0,eo.sendAndMonitorSimpleTxBatched)(p);f>0?P.default.error(`Error splitting tokens (${f}/${p.length}): ${h.join(", ")}`,{toastId:l}):P.default.success(s("Split complete!"),{toastId:l})}catch(e){P.default.error(s("Error splitting tokens: ")+(0,f.getErrorMessage)(e),{toastId:l})}},[j,s,d,o,C,W]),O=(0,l.useMemo)(()=>j.filter(e=>K.map(e=>e.publicKey).includes(e)).length===K.length,[j,K]),H=(0,l.useMemo)(()=>j.filter(e=>!K.map(e=>e.publicKey).includes(e)),[j,K]),U=(0,l.useCallback)(()=>{O?S(H):S(()=>{let e=K.map(e=>e.publicKey).filter(e=>!H.includes(e)),t=Math.max(0,F.MAX_TRADING_WALLETS-H.length),r=H.concat(e.slice(0,t));if(H.length+e.length>F.MAX_TRADING_WALLETS&&P.default.error(s(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`)),b.size>=F.MAX_TRADING_WALLETS){let e=r.filter(e=>!y.has(e));e.length>0&&(w(e),e.forEach(e=>{y.add(e)}))}return r})},[O,H,K,S,s,w,y,b]),z=(0,l.useMemo)(()=>j.filter(e=>E.map(e=>e.publicKey).includes(e)).length===E.length,[j,E]),Z=(0,l.useMemo)(()=>j.filter(e=>K.map(e=>e.publicKey).includes(e)),[j,K]),q=(0,l.useCallback)(()=>{z?S(Z):S(()=>{let e=E.map(e=>e.publicKey).filter(e=>!Z.includes(e)),t=Math.max(0,F.MAX_TRADING_WALLETS-Z.length),r=Z.concat(e.slice(0,t));if(Z.length+e.length>F.MAX_TRADING_WALLETS&&P.default.error(s(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`)),b.size>=F.MAX_TRADING_WALLETS){let e=r.filter(e=>!y.has(e));e.length>0&&(w(e),e.forEach(e=>{y.add(e)}))}return r})},[z,Z,E,S,s,w,y,b]),J=(0,l.useMemo)(()=>j.length===C.length&&C.length>0,[j,C]),Q=(0,l.useCallback)(()=>{if(J)S([]);else{let e=C.map(e=>e.publicKey);e.length>F.MAX_TRADING_WALLETS&&P.default.error(s(`Maximum of ${F.MAX_TRADING_WALLETS} trading wallets can be selected`));let t=e.slice(0,F.MAX_TRADING_WALLETS);if(b.size>=F.MAX_TRADING_WALLETS){let e=t.filter(e=>!y.has(e));e.length>0&&(w(e),e.forEach(e=>{y.add(e)}))}S(t)}},[J,C,S,s,w,y,b]),ee="dropdown"===a?`flex flex-col gap-[16px] ${n?"w-full":"w-[348px]"}`:"flex flex-col gap-[16px] h-full w-full",ei="dropdown"===a?"border-secondaryStroke":"border-white/10",ex=e=>"dropdown"===a?`group text-textPrimary flex flex-row gap-[4px] text-[12px] leading-[16px] font-medium justify-start items-center rounded-full px-[7px] h-[24px] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent
        ${e?"border-secondaryStroke border-[1px] bg-secondaryStroke/60 hover:bg-secondaryStroke/90":"hover:border-transparent border-[1px] bg-secondaryStroke/30 border-secondaryStroke/20 hover:bg-secondaryStroke/60"} transition-colors duration-125 ease-in-out`:"bg-textPrimary/[0.05] hover:bg-textPrimary/[0.1] hover:transition-colors hover:ease-in-out hover:duration-150 flex flex-row px-[8px] h-[24px] min-h-[24px] justify-center items-center gap-[3px] rounded-full ml-[4px]",ed=()=>"dropdown"===a?n?"flex-1":"max-h-[252px] overflow-y-auto":K.length>0?"max-h-[calc(50vh-150px)]":"h-0",ep=(0,l.useMemo)(()=>{let e=[];for(let t of b){let r=N.data.get(t)?.balanceSol;r&&r>0&&e.push(t)}return 0===e.length||e.every(e=>j.includes(e))},[b,N,j]),eu=(0,l.useCallback)(()=>{let e=[];for(let t of b){let r=N.data.get(t)?.balanceSol;if(r&&r>0){if(e.length>=F.MAX_TRADING_WALLETS){P.default.error(s(`Maximum of ${F.MAX_TRADING_WALLETS} wallets can be selected`));break}e.push(t)}}S(e)},[s,b,N,S]);return(0,t.jsxs)("div",{className:ee,children:["global"===e?(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?"h-full":""}`,children:[(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsxs)("div",{className:`flex flex-row gap-[4px] ${"dropdown"===a?"pl-[16px] pr-[12px]":"pl-[12px] pr-[12px]"} h-[44px] justify-between items-center`,children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[8px] items-center",children:[(0,t.jsx)(M.Tooltip,{content:J?s("Unselect all wallets"):s("Select all wallets"),children:(0,t.jsx)("button",{type:"button",className:ex(J),onClick:Q,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:J?s("Unselect All"):s("Select All")})})}),(0,t.jsx)(M.Tooltip,{content:s("Select all wallets with balance"),children:(0,t.jsx)("button",{type:"button",className:ep?"group text-textPrimary flex flex-row gap-[4px] text-[12px] leading-[16px] font-medium justify-start items-center rounded-full px-[7px] h-[24px] opacity-50 cursor-not-allowed border-[1px] bg-secondaryStroke/30 border-secondaryStroke/20 transition-colors duration-125 ease-in-out":ex(!1),onClick:eu,disabled:ep,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:s("Select All with Balance")})})})]}),(0,t.jsx)(M.Tooltip,{content:s("Multi Wallet Buy Settings"),children:(0,t.jsx)("button",{type:"button",className:"group flex items-center justify-center w-[24px] h-[24px] rounded-[4px] hover:bg-secondaryStroke/20 transition-colors duration-150 ease-in-out",onClick:()=>$(!0),children:(0,t.jsx)("i",{className:"ri-settings-3-line text-[13px] text-textTertiary group-hover:text-textSecondary transition-colors duration-150 ease-in-out"})})})]})}),(0,t.jsxs)("div",{className:`flex flex-col border-t ${ei} ${"sidebar"===a?"flex-1 overflow-y-auto":""} ${"dropdown"===a?n?"flex-1":"max-h-[342px] overflow-y-auto":"max-h-[calc(100vh-200px)]"}`,children:[C.map((e,r)=>(0,t.jsx)(V,{radial:!1,isSelected:j.includes(e.publicKey),walletName:e.name,walletAddress:e.publicKey,solBalance:N.data.get(e.publicKey)?.balanceSol??0,tokenCount:(0,R.countNonZeroTokenBalances)(d,e.publicKey),tokenTicker:o?.tokenTicker??void 0,onRowClick:()=>L(e.publicKey),onToggleClick:()=>L(e.publicKey),onTurboToggle:()=>B(e.publicKey),borderColor:ei,isPrimary:e.isPrimary,isTurboEnabled:c.includes(e.publicKey)},`${e.publicKey}-${r}`)),1===C.length&&!n&&(0,t.jsxs)("button",{type:"button",onClick:()=>{i("wallets"),window.location.href="/portfolio"},className:"flex flex-row w-full h-[48px] px-[16px] gap-[16px] items-center hover:bg-primaryStroke/35 transition-colors duration-150 ease-in-out cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-add-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-150 ease-in-out"}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] font-medium",children:s("Add Wallet")})]})]})]}):(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?"h-full":""} gap-[16px] ${K.length>0&&"sidebar"===a?"overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]":""}`,children:[o&&K.length>0&&(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?"flex-1 max-h-[80%]":""}`,children:[(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsxs)("div",{className:`flex flex-row gap-[4px] ${"dropdown"===a?"pl-[16px] pr-[12px]":"pl-[12px] pr-[12px]"} h-[44px] justify-between items-center`,children:[(0,t.jsx)(M.Tooltip,{content:O?s(`Unselect all wallets with ${o.tokenTicker}`):s(`Select all wallets with ${o.tokenTicker}`),children:(0,t.jsx)("button",{type:"button",className:ex(O),onClick:U,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:(E.length,`${O?s("Unselect All"):s("Select All")}`)})})}),(0,t.jsxs)("div",{className:"flex flex-row gap-[8px] justify-start items-center",children:[(0,t.jsx)(M.Tooltip,{content:s("Moves all tokens to the selected wallet"),minWidth:"216px",children:(0,t.jsxs)("button",{type:"button",className:"group flex flex-row gap-[4px] text-textSecondary text-[12px] leading-[16px] font-medium justify-start items-center rounded-[4px] hover:bg-secondaryStroke/30 transition-colors duration-125 ease-in-out pl-[7px] pr-[6px] h-[24px] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",onClick:D,disabled:p,children:[(0,t.jsx)("i",{className:"ri-git-branch-line text-[14px] text-textTertiary group-hover:text-textSecondary group-disabled:hover:text-textTertiary transition-colors duration-125 ease-in-out"}),s("Consolidate")]})}),(0,t.jsx)(M.Tooltip,{content:s("Splits tokens evenly between active wallets with 20% variance"),minWidth:"216px",children:(0,t.jsxs)("button",{type:"button",className:"group flex flex-row gap-[4px] text-textSecondary text-[12px] leading-[16px] font-medium justify-start items-center rounded-[4px] hover:bg-secondaryStroke/30 transition-colors duration-125 ease-in-out pl-[7px] pr-[6px] h-[24px] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",onClick:G,children:[(0,t.jsx)("i",{className:"ri-git-merge-line text-[14px] text-textTertiary group-hover:text-textSecondary group-disabled:hover:text-textTertiary transition-colors duration-125 ease-in-out"}),s("Split Tokens")]})})]})]})}),(0,t.jsxs)("div",{className:`flex flex-col border-t ${ei} ${"sidebar"===a?"flex-1 overflow-y-auto":""} ${ed()}`,children:[K.map((e,r)=>(0,t.jsx)(V,{radial:!1,isSelected:j.includes(e.publicKey),walletName:e.name,walletAddress:e.publicKey,solBalance:N.data.get(e.publicKey)?.balanceSol??0,tokenCount:(0,R.countNonZeroTokenBalances)(d,e.publicKey),tokenTicker:o?.tokenTicker??void 0,onRowClick:()=>L(e.publicKey),onToggleClick:()=>L(e.publicKey),isTurboEnabled:c.includes(e.publicKey),onTurboToggle:()=>B(e.publicKey),borderColor:ei,tokenImage:o.tokenImage??void 0,tokenAmount:(0,R.findTokenBalance)(d,e.publicKey,o.tokenAddress,o.tokenDecimals),isPrimary:e.isPrimary},`token-${e.publicKey}-${r}`)),1===C.length&&!n&&(0,t.jsxs)("button",{type:"button",onClick:()=>{i("wallets"),window.location.href="/portfolio"},className:"flex flex-row w-full h-[48px] px-[16px] gap-[16px] items-center hover:bg-primaryStroke/35 transition-colors duration-150 ease-in-out cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-add-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-150 ease-in-out"}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] font-medium",children:s("Add Wallet")})]})]})]}),o&&E.length>0&&(0,t.jsxs)("div",{className:`flex flex-col ${"sidebar"===a?`flex-1 ${K.length>0?"max-h-[80%]":"h-full"}`:""}`,children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] px-[12px] py-[8px] justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[8px] items-center",children:[(0,t.jsx)(M.Tooltip,{content:z?s(`Unselect all wallets without ${o.tokenTicker}`):s(`Select all wallets without ${o.tokenTicker}`),children:(0,t.jsx)("button",{type:"button",className:ex(z),onClick:q,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:(K.length,`${z?s("Unselect All"):s("Select All")}`)})})}),(0,t.jsx)(M.Tooltip,{content:s("Select all wallets with balance"),children:(0,t.jsx)("button",{type:"button",className:ep?"group text-textPrimary flex flex-row gap-[4px] text-[12px] leading-[16px] font-medium justify-start items-center rounded-full px-[7px] h-[24px] opacity-50 cursor-not-allowed border-[1px] bg-secondaryStroke/30 border-secondaryStroke/20 transition-colors duration-125 ease-in-out":ex(!1),onClick:eu,disabled:ep,children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-medium",children:s("Select All with Balance")})})})]}),(0,t.jsx)(M.Tooltip,{content:s("Multi Wallet Buy Settings"),children:(0,t.jsx)("button",{type:"button",className:"group flex items-center justify-center w-[24px] h-[24px] rounded-[4px] hover:bg-secondaryStroke/20 transition-colors duration-150 ease-in-out",onClick:()=>$(!0),children:(0,t.jsx)("i",{className:"ri-settings-3-line text-[13px] text-textTertiary group-hover:text-textSecondary transition-colors duration-150 ease-in-out"})})})]}),(0,t.jsxs)("div",{className:`flex flex-col border-t ${ei} ${"sidebar"===a?`flex-1 overflow-y-auto ${K.length>0?"max-h-[calc(50vh-150px)]":"h-0"}`:""} ${ed()}`,children:[E.map((e,r)=>(0,t.jsx)(V,{radial:!1,isSelected:j.includes(e.publicKey),walletName:e.name,walletAddress:e.publicKey,solBalance:N.data.get(e.publicKey)?.balanceSol??0,tokenCount:(0,R.countNonZeroTokenBalances)(d,e.publicKey),tokenTicker:o?.tokenTicker??void 0,onToggleClick:()=>L(e.publicKey),onRowClick:()=>L(e.publicKey),isTurboEnabled:c.includes(e.publicKey),onTurboToggle:()=>B(e.publicKey),borderColor:ei,isPrimary:e.isPrimary},`no-token-${e.publicKey}-${r}`)),1===C.length&&!n&&(0,t.jsxs)("button",{type:"button",onClick:()=>{i("wallets"),window.location.href="/portfolio"},className:"flex flex-row w-full h-[48px] px-[16px] gap-[16px] items-center hover:bg-primaryStroke/35 transition-colors duration-150 ease-in-out cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-add-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-150 ease-in-out"}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] font-medium",children:s("Add Wallet")})]})]})]})]}),_&&(0,t.jsx)(ec,{onClose:()=>$(!1)})]})}),ec=({onClose:e})=>{let{t:a}=(0,A.useTranslation)(),[o,s]=(0,r.useAtom)(R.buyVarianceAtom),[x,d]=(0,r.useAtom)(R.transactionDelayMultiWalletAtom),p=(0,l.useRef)(null),[u,m]=(0,l.useState)(!1),[f,h]=(0,l.useState)(!0),g=(0,l.useCallback)(()=>{h(!1),setTimeout(()=>{e()},200)},[e]);return f?(0,c.createPortal)((0,t.jsx)(n.AnimatePresence,{mode:"wait",children:(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 bg-[#090909]/40 flex items-center justify-center z-[99999]",onClick:e=>{e.stopPropagation(),u&&e.target===e.currentTarget&&g()},onMouseDown:e=>{e.stopPropagation(),e.target===e.currentTarget&&m(!0)},onMouseUp:e=>{e.stopPropagation(),requestAnimationFrame(()=>{m(!1)})},children:(0,t.jsx)(i.motion.div,{ref:p,className:"relative w-[452px] max-h-[880px]",initial:{opacity:0,y:0,scale:1},animate:{opacity:1,y:4,scale:1},exit:{opacity:0,y:0,scale:1},transition:{duration:.15,ease:"easeOut"},onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex flex-col w-full h-full bg-backgroundTertiary border-[1px] border-secondaryStroke rounded-[4px] shadow-[0_4px_4px_0_rgba(0,0,0,0.30),0_8px_8px_0_rgba(0,0,0,0.45)]",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full h-[44px] pl-[16px] pr-[12px] justify-between items-center border-b-[1px] border-b-secondaryStroke",children:[(0,t.jsx)("span",{className:"text-textPrimary text-[14px] leading-[20px] tracking-[-0.02em] font-medium",children:a("Multi Wallet Buy Settings")}),(0,t.jsx)("button",{type:"button",onClick:g,className:"group flex flex-row p-[4px] w-[24px] h-[24px] justify-center items-center hover:bg-secondaryStroke/20 rounded-[4px] transition-colors duration-150 ease-in-out",children:(0,t.jsx)("i",{className:"ri-close-line text-textSecondary text-[16px] group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full px-[16px] py-[16px] pb-[20px] gap-[16px]",children:[(0,t.jsx)("div",{className:"flex flex-col gap-[8px]",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",children:a("Buy Variance")}),(0,t.jsxs)("div",{className:"w-[60px] h-[28px] flex items-center rounded-[4px] bg-transparent border border-secondaryStroke hover:border-textPrimary/10 focus:border-textPrimary/10 hover:bg-secondaryStroke/10 focus:bg-secondaryStroke/10 overflow-hidden",children:[(0,t.jsx)("input",{type:"text",value:o,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");(""===t||100>=parseInt(t))&&s(parseInt(t)||0)},onBlur:e=>{let t=parseInt(e.target.value)||0;t>100&&(t=100),t<0&&(t=0),s(t)},className:"bg-transparent text-textPrimary text-[12px] text-center w-[36px] outline-none"}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] mr-1",children:"%"})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-[4px] w-full justify-start items-center",children:(0,t.jsx)(b,{value:o,onChange:e=>s(e),points:[0,25,50,75,100],formatLabel:e=>`${e}%`,maxLeverage:100,disabled:!1})}),(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("The variance of the buy amount across the selected wallets. 0% to 100% randomly.")})]})}),(0,t.jsx)("div",{className:"flex flex-col gap-[8px]",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",children:a("Transaction Delay")}),(0,t.jsxs)("div",{className:"w-[60px] h-[28px] flex items-center rounded-[4px] bg-transparent border border-secondaryStroke hover:border-textPrimary/10 focus:border-textPrimary/10 hover:bg-secondaryStroke/10 focus:bg-secondaryStroke/10 overflow-hidden",children:[(0,t.jsx)("input",{type:"text",value:x,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");(""===t||1e3>=parseInt(t))&&d(parseInt(t)||0)},onBlur:e=>{let t=parseInt(e.target.value)||0;t>1e3&&(t=1e3),t<0&&(t=0),d(t)},className:"bg-transparent text-textPrimary text-[12px] text-center w-[36px] outline-none"}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] mr-1",children:"ms"})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-[4px] w-full justify-start items-center",children:(0,t.jsx)(b,{value:x,onChange:e=>d(e),points:[0,250,500,750,1e3],formatLabel:e=>1e3===e?"1s":`${e}ms`,maxLeverage:1e3,disabled:!1})}),(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("The delay between each transaction in milliseconds. 0ms means no delay.")})]})})]}),(0,t.jsx)("div",{className:"border-t border-secondaryStroke/50 flex flex-row w-full h-[68px] justify-end items-center p-[16px] pb-[20px]",children:(0,t.jsx)("button",{type:"button",onClick:g,className:"bg-primaryBlue flex flex-row flex-1 h-[32px] px-[12px] gap-[8px] justify-center items-center rounded-full hover:bg-primaryBlue/80 hover:brightness-110 transition-all duration-[150ms] cursor-pointer",children:(0,t.jsx)("span",{className:"text-[14px] font-bold text-background",children:a("Done")})})})]})})})}),document.body):null},ex=(0,l.memo)(function(e){let l=(0,r.useAtomValue)(a.currentChainAtom);return"sol"===l?(0,t.jsx)(ei,{...e}):"bnb"===l?(0,t.jsx)(O,{...e}):((0,o.assertUnreachable)(l),null)});e.s(["MultiWalletDropdownContent",0,ex],120683);var ed=e.i(722607);let ep=(0,l.memo)(function({"w-full":e=!0,transactionType:r}){let{t:l}=(0,A.useTranslation)(),a=(0,ed.useCurrentEvmPreset)()[r],o=a.slippage,s=a.customGas,n=a.bribe,i=a.antiMevRpc;return(0,t.jsxs)("div",{className:`flex flex-row h-[28px] gap-[4px] py-[8px] justify-start items-center ${e?"w-full":""}`,children:[(0,t.jsx)(M.Tooltip,{content:l("Slippage"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)(E.default,{src:"/images/trading-memecoin-page/slippage.svg",alt:l("Slippage"),width:12,height:12,className:"text-textTertiary"}),(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal text-textSecondary",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(o,4)+"%"}})]})}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-primaryStroke"}),(0,t.jsx)(M.Tooltip,{content:l("Gas Fee (Gwei)"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)("i",{className:"ri-gas-station-line text-[12px] text-textTertiary"}),(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal text-textSecondary",children:s})]})}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-primaryStroke"}),(0,t.jsx)(M.Tooltip,{content:l("Bribe (BNB)"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)("i",{className:"ri-coin-line text-[12px] text-textTertiary"}),(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal text-textSecondary",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(n,4)}})]})}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-primaryStroke"}),(0,t.jsx)(M.Tooltip,{content:l(i?"Enhanced MEV Protection is enabled":"MEV Protection is disabled"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)("div",{className:"flex flex-row gap-[2px] w-[12px] h-[12px] items-center",children:(0,t.jsx)("i",{className:`${i?"icon-double-protection":"icon-shieldline"} text-textTertiary`,style:{fontSize:i?"11px":"10px"}})}),(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal text-textSecondary",children:l(i?"On":"Off")})]})})]})});var eu=e.i(342271),em=e.i(43351);let ef=(0,l.memo)(function({"w-full":e=!0,transactionType:l}){let{t:a}=(0,A.useTranslation)(),o=(0,eu.useCurrentSolPreset)()[l],s=o.slippage,n=o.priorityFeeSol,i=o.bribeFeeSol,c=o.mevProtection,x=o.enhancedMevProtection,d=(0,r.useAtomValue)(em.recommendedPriorityFeeAtom)??0,p=(0,r.useAtomValue)(em.recommendedBribeFeeAtom)??0,u=(0,eu.getMevType)(c,x);return(0,t.jsxs)("div",{className:`flex flex-row h-[28px] gap-[4px] py-[8px] justify-start items-center ${e?"w-full":""}`,children:[(0,t.jsx)(M.Tooltip,{content:a("Slippage"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)(E.default,{src:"/images/trading-memecoin-page/slippage.svg",alt:a("Slippage"),width:12,height:12,className:"text-textTertiary"}),(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal text-textSecondary",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(s,4)+"%"}})]})}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-primaryStroke"}),(0,t.jsx)(M.Tooltip,{content:1.001*n<d&&!c?`${a("Recommended priority fee is")} ${Number(d.toPrecision(3)).toString()}`:a("Priority Fee"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)("i",{className:`ri-gas-station-line text-[12px] ${1.001*n<d&&!c?"text-primaryYellow":"text-textTertiary"}`}),(0,t.jsxs)("div",{className:`flex flex-row gap-[2px] items-center ${1.001*n<d&&!c?"text-primaryYellow":"text-textSecondary"}`,children:[(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(n,4)}}),1.001*n<d&&!c&&(0,t.jsx)("i",{className:"ri-alert-line text-primaryYellow text-[12px]"})]})]})}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-primaryStroke"}),(0,t.jsx)(M.Tooltip,{content:c&&0===i?a("Bribe is required to enable MEV Protection"):1.001*i<p?`${a("Recommended bribe is")} ${Number(p.toPrecision(3)).toString()}`:a("Bribe Fee"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)("i",{className:`ri-coin-line text-[12px] ${c&&0===i?"text-primaryRed":1.001*i<p?"text-primaryYellow":"text-textTertiary"}`}),(0,t.jsxs)("div",{className:`flex flex-row gap-[2px] items-center ${c&&0===i?"text-primaryRed":1.001*i<p?"text-primaryYellow":"text-textSecondary"}`,children:[(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:(0,B.getFormattedNumber)(i,4)}}),1.001*i<p&&!(c&&0===i)&&(0,t.jsx)("i",{className:"ri-alert-line text-primaryYellow text-[12px]"}),c&&0===i&&(0,t.jsx)("i",{className:"ri-error-warning-line text-primaryRed text-[12px]"})]})]})}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-primaryStroke"}),(0,t.jsx)(M.Tooltip,{content:a("secure"===u?"Enhanced MEV Protection is enabled":"reduced"===u?"MEV Protection is enabled":"MEV Protection is disabled"),children:(0,t.jsxs)("div",{className:"flex flex-row gap-[4px] justify-start items-center",children:[(0,t.jsx)("div",{className:"flex flex-row gap-[2px] w-[12px] h-[12px] items-center",children:(0,t.jsx)("i",{className:`${(()=>{switch(u){case"secure":return"icon-double-protection";case"reduced":return"ri-shield-line";default:return"icon-shieldline"}})()} text-[12px] text-textTertiary`,style:"off"===u?{fontSize:"10px"}:"reduced"===u?{fontSize:"12px"}:"secure"===u?{fontSize:"11px"}:{}})}),(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-normal text-textSecondary",children:a("off"===u?"Off":"On")})]})})]})}),eh=(0,l.memo)(function({"w-full":e,transactionType:l}){let s=(0,r.useAtomValue)(a.currentChainAtom);return"sol"===s?(0,t.jsx)(ef,{"w-full":e,transactionType:l}):"bnb"===s?(0,t.jsx)(ep,{"w-full":e,transactionType:l}):((0,o.assertUnreachable)(s),null)});e.s(["default",0,eh],776153)}]);

//# sourceMappingURL=30512417328615b7.js.map
//# debugId=6b8c9c82-30fd-58f4-8333-1aff3335ccc3
